<!DOCTYPE html>
<head>
    <title>ife</title>
    <meta charset="utf-8">
    <style>

        #table-wrapper table{
            border: 1px solid black;
            border-collapse: collapse;
            margin: 0 auto;
        }
        #table-wrapper td,th{
            border: 1px solid black;

        }
        
    </style>
</head>
<body>
    <div id="region-radio-wrapper">
        <label>华东<input type="checkbox" name="region" checkbox-type="one" checked></label>
        <label>华南<input type="checkbox" name="region" checkbox-type="one"></label>
        <label>华北<input type="checkbox" name="region" checkbox-type="one"></label>
        <label>全选<input type="checkbox" name="region" checkbox-type="all"></label>
    </div>
    <div id="product-radio-wrapper">
        <label>手机<input type="checkbox" name="product" checkbox-type="one" checked></label>
        <label>笔记本<input type="checkbox" name="product" checkbox-type="one"></label>
        <label>智能音箱<input type="checkbox" name="product" checkbox-type="one"></label>
        <label>全选<input type="checkbox" name="product" checkbox-type="all"></label>
    </div>
    <div><button id = "save" >保存</button></div>
    <div id="table-wrapper">
    </div>
    <script src="js/ife31data.js"></script>
    <script src="js/app.js"></script>
    <script src="js/checkbox.js"></script>
    <script src="js/table.js"></script>
    <script>
        document.getElementById("table-wrapper").addEventListener("click",function(event){
            var td = event.target;
            if(td.nodeName == "TD" && td.getAttribute("data-do") == "do"){
                
                var temp = td.innerText
                td.innerHTML = "<input type='text' ><input type='button'  value ='submit' data-first = 'ni'><input type='button' value ='cancel' data-first = 'ni'>"



                document.getElementsByTagName("body")[0].addEventListener("click",function(x){
                    if(td.contains(x.target)||x.target.getAttribute("data-first") == 'ni'){
                        
                    }else{
                        td.innerHTML = temp
                    }


                })
                td.children[2].addEventListener("click",function(e){
                    td.innerHTML = temp
                })
                td.children[0].addEventListener("keyup",function(e){
                    var escEnter = e.target

                    if(e.keyCode == 13){
                        td.innerHTML = td.children[0].value
                    }else if(e.keyCode == 27){
                        td.innerHTML = temp
                    }
                })


                td.children[1].addEventListener("click",function(e){
                    if(isNaN(td.children[0].value)){
                        alert("not a number")
                    }else{
                        td.innerHTML = td.children[0].value
                    }
                })

                



            }

        })

        document.getElementById("table-wrapper").addEventListener("mouseover",function(event){
            var td = event.target;
            if(td.nodeName == "TD" && td.getAttribute("data-do") == "do"){
                td.style.cursor = "pointer"
            }

        })



    
    
    </script>
</body>